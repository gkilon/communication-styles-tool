# חלק 1: הוראות בנייה
[build]
  # הפקודה שהשרת צריך להריץ כדי לבנות את האתר. 
  # vite build הוא הפקודה הסטנדרטית לפרויקטי Vite.
  command = "npm run build"
  
  # התיקייה שבה נמצא האתר המוכן אחרי שהפקודה רצה. 
  # Vite יוצר אוטומטית תיקייה בשם 'dist'.
  publish = "dist"
  
  # התיקייה שבה נמצא קוד ה-AI שלך (פונקציות השרת).
  functions = "netlify/functions"

# חלק 2: חוקי הניתוב (החלק הכי חשוב!)
[[redirects]]
  # מאיפה מגיעה הבקשה? 
  # כל בקשה מהאתר שלך שמתחילה ב- /api/
  from = "/api/*"
  
  # לאן להפנות את הבקשה? 
  # אל קוד ה-AI שנמצא בתיקיית הפונקציות.
  # ה- :splat הוא "תו כללי" שלוקח את מה שבא אחרי /api/ ומעביר אותו הלאה.
  to = "/.netlify/functions/:splat"
  
  # קוד סטטוס 200 אומר: "אל תעשה הפנייה מחדש, פשוט תגיש את התוכן מהיעד כאילו הוא הגיע מהמקור".
  # זה מה שפותר את שגיאת ה-404.
  status = 200